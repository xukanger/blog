<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>注册</title>
    <link rel="stylesheet" href="/style/css/reset.css" type="text/css">
    <link rel="stylesheet" href="/style/css/login.css" type="text/css">
    <link rel="stylesheet" href="/style/lib/bootstrap/css/bootstrap.css" type="text/css">
    <link rel="stylesheet" href="/style/lib/jquery.uploadify/uploadify.css" type="text/css">
    <script src="/style/lib/jquery/jquery-1.11.0.min.js"></script>
    <script src="/style/lib/jquery.uploadify/jquery.uploadify.js"></script>
    <script src="/style/lib/bootstrap/js/bootstrap.js"></script>
    <script src="/style/js/controller/register.js"></script>

</head>
<body>
    <div class="login-body">
        <div class="trip" id="trip"></div>
        <div class="login-center">
            <!--<div class="login-head">-->
                <!--注册-->
            <!--</div>-->
            <from class="login-from rel">
                <div class="userimg abs">
                    <label id="userShow" for="userimg">
                        <img src="/style/img/userimg/userImg.jpg" alt="">
                    </label>
                    <input type="file" id="userimg">
                </div>
                <div class="form-group">
                    <!--<input type="file" id="userimg">-->
                    <label for="username">用户名</label>
                    <input type="text" id="username">
                </div>
                <div class="form-group">
                    <label for="nickname">昵称</label>
                    <input type="text" id="nickname" data-blur="true">
                </div>
                <div class="form-group">
                    <label for="password">密码</label>
                    <input type="password" id="password">
                </div>
                <div class="form-group">
                    <label for="passwordOK">确认密码</label>
                    <input type="password" id="passwordOK">
                </div>
                <div class="form-group">
                    <label for="email">邮箱</label>
                    <input type="email" id="email">
                </div>
                <div class="form-group">
                    <label for="invit">验证码</label>
                        <input type="text" id="invit">

                        <div class="inCode">
                                <img onclick="this.src='/captcha-image'" id="code-img" src="/captcha-image">
                        </div>
                </div>
            </from>
            <div id= "regbtn" data-toggle="popover" data-placement="top">
            <a href="javascript:;" class="fromSub">注册</a>
            </div>
        </div>
    </div>
<script>
//    window.URL = window.URL || window.webkitURL;
//    var fileElem = document.getElementById("userimg"),
//        fileList = document.getElementById("userShow");
//    function handleFiles(obj) {
//        var files = obj.files,
//            img = new Image();
//        console.log(files)
//        if(window.URL){
//            //File API
////            alert(files[0].name + "," + files[0].size + " bytes");
//            img.src = window.URL.createObjectURL(files[0]); //创建一个object URL，并不是你的本地路径
//            img.width = 200;
//            img.onload = function(e) {
//                window.URL.revokeObjectURL(this.src); //图片加载后，释放object URL
//            }
//            // fileList.(img);
//            $('#userShow').html('');
//            fileList.appendChild(img);
//            console.log(img)
//        }
//    }
    $(function () {
        $('#userShow').click(

            function () {
                $('#userimg').uploadify({
                    'uploadLimit': 1,
                    'fileTypeExts': '*.jpg; *.png; *.gif',
                    'swf': '/style/lib/jquery.uploadify/uploadify.swf',
                    'uploader': '',//接口
                    'fileSizeLimit': '1MB',
                    'fileObjName': 'filedata',
                    //设置在后台脚本使用的文件名。举个例子，在php中，如果这个选项设置为'the_files',你可以使用$_FILES['the_files']存取这个已经上传的文件。
                    'onUploadSuccess': function (file, data, response) {
                        //成功后出发
                        alert('id: ' + file.id
                            + ' - 索引: ' + file.index
                            + ' - 文件名: ' + file.name
                            + ' - 文件大小: ' + file.size
                            + ' - 类型: ' + file.type
                            + ' - 创建日期: ' + file.creationdate
                            + ' - 修改日期: ' + file.modificationdate
                            + ' - 文件状态: ' + file.filestatus
                            + ' - 服务器端消息: ' + data
                            + ' - 是否上传成功: ' + response);
                    }
                })
            })

    })
</script>
</body>
</html>